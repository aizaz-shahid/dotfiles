BG=0x651e1e2e

source "$HOME/.config/sketchybar/colors.sh"
source "$HOME/.config/sketchybar/icons.sh"


FONT="CaskaydiaCove Nerd Font"
FONT_SIZE=14
FONT_COLOR=0xffcdd6f4
ICON_FONT_SIZE=16

ITEM_PADDING=8
ITEM_COLOR=0x503d3c53
GAP=6

POPUP_ITEM_ICON_COLOR=0xffc7ea46
POPUP_ITEM_COLOR=0xe0a89984

PLUGIN_DIR="$HOME/.config/sketchybar/plugins"
ITEMS_DIR="$HOME/.config/sketchybar/items"
CONFIG_DIR="$HOME/.config/sketchybar"

sketchybar --bar \
  margin=17 y_offset=12 height=38 \
  corner_radius=6 blur_radius=5 \
  border_width=1 border_color=0x28222222 \
  padding_left=17 padding_right=20 \
  shadow.color=0x28000000 shadow.angle=0 \
  color=$BG

sketchybar --default \
  label.font="$FONT:Regular:$FONT_SIZE" label.color=$FONT_COLOR \
  label.padding_left=$ITEM_PADDING label.padding_right=$ITEM_PADDING \
  icon.font="$FONT:Regular:$ICON_FONT_SIZE"\
  icon.padding_left=$ITEM_PADDING \
  background.color=$ITEM_COLOR \
  background.padding_right=$GAP background.height=25 \
  background.corner_radius=6

sketchybar    --add item os left \
              --set      os  icon=Óúë icon.color=0xfff5c2e7 \
                                  icon.font.size=21 icon.y_offset=2 \
                                  icon.padding_left=0 icon.padding_right=0 \
                                  label.padding_left=0 label.padding_right=6 \
                                  background.drawing=off \
                                  popup.height=32                                                          \
                                  popup.background.color=$ITEM_COLOR                                 \
                                  popup.background.border_width=2                                          \
                                  popup.background.corner_radius=12                                        \


sketchybar --add item user left \
  --set user \
  label="$(whoami)" label.font.style="Bold" \
  icon=Û∞ÄÑ icon.color=0xffc7ea46

#sketchybar --add item weather left \
#  --set weather \
#  icon=Û∞ñê \
#  script="$PLUGIN_DIR/weather.sh 'London'" \
#  update_freq=1500 \
#  --subscribe weather mouse.clicked

sketchybar --add item clock right \
  --set clock \
  script="$PLUGIN_DIR/clock.sh" \
  background.padding_right=0 \
  update_freq=10

sketchybar --add item battery right \
  --set battery \
  script="$PLUGIN_DIR/battery.sh" \
  update_freq=60

sketchybar --add item wifi right \
   --set wifi \
        script="$PLUGIN_DIR/wifi.sh" \
   --subscribe wifi wifi_change

sketchybar --add item front-app center \
  --set front-app \
  script="$PLUGIN_DIR/front_app.sh" \
  label.font="$FONT:Bold:$ICON_FONT_SIZE" \
  icon.padding_left=0 label.padding_right=0 \
  icon.background.drawing=on \
  display=active \
  click_script="open -a 'Mission Control'" \
  --subscribe front-app front_app_switched

sketchybar -m --add event window_created \
               --add event window_destroyed \
               --add event window_change \
               --add event space_change

source "$ITEMS_DIR/spaces.sh"

sketchybar --add item ram right                         \
           --set      ram script="$PLUGIN_DIR/ram.sh"   \
                          update_freq=5                \
                          padding_left=2                \
                          padding_right=2               \
                          background.border_width=0     \
                          background.height=24          \
                          icon=üéûÔ∏è                \
                          icon.color=$COLOR_GREEN       \
                          label.color=$COLOR_GREEN      \
           --add item cpu right                         \
           --set      cpu script="$PLUGIN_DIR/cpu.sh"   \
                          update_freq=5                \
                          padding_left=8                \
                          padding_right=2               \
                          background.border_width=0     \
                          background.height=24          \
                          icon=ü§ñ                \
                          icon.color=$COLOR_CYAN         \
                          label.color=$COLOR_CYAN

sketchybar --add item weather2 left \
  --set weather2 \
  icon=Û∞ñê \
  script="$PLUGIN_DIR/weather.sh 'Chelmsford'" \
  update_freq=1500 \
  --subscribe weather2 mouse.clicked

sketchybar --update
